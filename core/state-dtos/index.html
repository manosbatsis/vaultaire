
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Query DSL and data access utilities for Corda developers.">
      
      
      
        <meta name="author" content="Manos Batsis">
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-7.1.5">
    
    
      
        <title>State DTOs - Vaultaire</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.bde7dde4.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.ef6f36e2.min.css">
        
          
          
          <meta name="theme-color" content="#00bdd6">
        
      
    
    
    
      
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>:root{--md-text-font-family:"Roboto";--md-code-font-family:"Roboto Mono"}</style>
      
    
    
    
    
      
        
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-131279953-1","manosbatsis.github.io"),ga("set","anonymizeIp",!0),ga("send","pageview"),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){var e;this.value&&(e=document.location.pathname,ga("send","pageview",e+"?q="+this.value))}),"undefined"!=typeof location$&&location$.subscribe(function(e){ga("send","pageview",e.pathname)})})</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
      
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="cyan" data-md-color-accent="deep-purple">
  
    
    <script>function __prefix(e){return new URL("../..",location).pathname+"."+e}function __get(e,t=localStorage){return JSON.parse(t.getItem(__prefix(e)))}</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#state-dtos" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Vaultaire" class="md-header__button md-logo" aria-label="Vaultaire" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Vaultaire
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              State DTOs
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        
<a href="https://github.com/manosbatsis/vaultaire/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    Vaultaire
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Vaultaire" class="md-nav__button md-logo" aria-label="Vaultaire" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    Vaultaire
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/manosbatsis/vaultaire/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    Vaultaire
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        Overview
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../installation/" class="md-nav__link">
        Installation
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" checked>
      
      <label class="md-nav__link" for="__nav_3">
        Core Features
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Core Features" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Core Features
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../query-dsl/" class="md-nav__link">
        Query DSL
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../state-services/" class="md-nav__link">
        State Services
      </a>
    </li>
  

          
            
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          State DTOs
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        State DTOs
      </a>
      
        
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    Overview
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#usage-patterns" class="md-nav__link">
    Usage Patterns
  </a>
  
    <nav class="md-nav" aria-label="Usage Patterns">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#dto-to-state" class="md-nav__link">
    DTO to State
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dto-as-patch-update" class="md-nav__link">
    DTO as Patch Update
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#state-to-dto" class="md-nav__link">
    State to DTO
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dto-generation" class="md-nav__link">
    DTO Generation
  </a>
  
    <nav class="md-nav" aria-label="DTO Generation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#annotations" class="md-nav__link">
    Annotations
  </a>
  
    <nav class="md-nav" aria-label="Annotations">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#local-states" class="md-nav__link">
    Local States
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dependency-states" class="md-nav__link">
    Dependency States
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#non-state-models" class="md-nav__link">
    Non-State Models
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#views" class="md-nav__link">
    Views
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#utility-annotations" class="md-nav__link">
    Utility Annotations
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sample-dto" class="md-nav__link">
    Sample DTO
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#strategies" class="md-nav__link">
    Strategies
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../other-utils/" class="md-nav__link">
        Other Utilities
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" >
      
      <label class="md-nav__link" for="__nav_4">
        Plugins
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Plugins" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Plugins
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../plugins/corda-accounts/" class="md-nav__link">
        Corda Accounts
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../plugins/rsql-support/" class="md-nav__link">
        RSQL Support
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="/vaultaire/0.x/index.md" class="md-nav__link">
        API Reference
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../faq/" class="md-nav__link">
        FAQ
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../changelog/" class="md-nav__link">
        Change Log
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../credits/" class="md-nav__link">
        Credits
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    Overview
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#usage-patterns" class="md-nav__link">
    Usage Patterns
  </a>
  
    <nav class="md-nav" aria-label="Usage Patterns">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#dto-to-state" class="md-nav__link">
    DTO to State
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dto-as-patch-update" class="md-nav__link">
    DTO as Patch Update
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#state-to-dto" class="md-nav__link">
    State to DTO
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dto-generation" class="md-nav__link">
    DTO Generation
  </a>
  
    <nav class="md-nav" aria-label="DTO Generation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#annotations" class="md-nav__link">
    Annotations
  </a>
  
    <nav class="md-nav" aria-label="Annotations">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#local-states" class="md-nav__link">
    Local States
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dependency-states" class="md-nav__link">
    Dependency States
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#non-state-models" class="md-nav__link">
    Non-State Models
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#views" class="md-nav__link">
    Views
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#utility-annotations" class="md-nav__link">
    Utility Annotations
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sample-dto" class="md-nav__link">
    Sample DTO
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#strategies" class="md-nav__link">
    Strategies
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/manosbatsis/vaultaire/edit/master/docs/core/state-dtos.md" title="Edit this page" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
                  </a>
                
                
                <h1 id="state-dtos">State DTOs<a class="headerlink" href="#state-dtos" title="Permanent link">&para;</a></h1>
<h2 id="overview">Overview<a class="headerlink" href="#overview" title="Permanent link">&para;</a></h2>
<p>Maintaining Data Transfer Objects for your contract states can be a mundane, error-prone task. 
Vaultaire’s annotation processing automates this by (re)generating those DTOs for you.</p>
<p>DTOs generation may require a <code>VaultaireStateUtils</code> annotation to be present 
for the target model/state.</p>
<h2 id="usage-patterns">Usage Patterns<a class="headerlink" href="#usage-patterns" title="Permanent link">&para;</a></h2>
<p>A typical use for generated DTOs is messaging over HTTP REST or RPC as 
input and output of Corda Flows. The provided conversion utilities 
can be used to create, update or even patch <code>ContractState</code> types 
they correspond to.  </p>
<h3 id="dto-to-state">DTO to State<a class="headerlink" href="#dto-to-state" title="Permanent link">&para;</a></h3>
<p>To convert from DTO to state, use the DTO&rsquo;s <code>toTargetType()</code> method:</p>
<div class="highlight"><pre><span></span><code><span class="c1">// Using default strategy</span>
<span class="c1">// ----------------------</span>
<span class="c1">// Get the DTO</span>
<span class="kd">val</span> <span class="nv">dto1</span><span class="p">:</span> <span class="n">BookStateClientDto</span> <span class="o">=</span> <span class="c1">//...</span>
<span class="c1">// Convert to State</span>
<span class="kd">val</span> <span class="nv">state1</span><span class="p">:</span> <span class="n">BookState</span> <span class="o">=</span> <span class="n">dto1</span><span class="p">.</span><span class="na">toTargetType</span><span class="p">()</span>

<span class="c1">// Using the default strategy</span>
<span class="c1">// ----------------------</span>
<span class="c1">// Get the Service</span>
<span class="kd">val</span> <span class="nv">stateService</span><span class="p">:</span> <span class="n">BookStateService</span> <span class="o">=</span> <span class="c1">//...</span>
<span class="c1">// Get the &#39;client&#39; DTO</span>
<span class="kd">val</span> <span class="nv">dto2</span><span class="p">:</span> <span class="n">BookStateClientDto</span> <span class="o">=</span> <span class="c1">// ...</span>
<span class="c1">// Convert to State</span>
<span class="kd">val</span> <span class="nv">state2</span><span class="p">:</span> <span class="n">BookState</span> <span class="o">=</span> <span class="n">dto2</span><span class="p">.</span><span class="na">toTargetType</span><span class="p">(</span><span class="n">stateService</span><span class="p">)</span>
</code></pre></div>
<h3 id="dto-as-patch-update">DTO as Patch Update<a class="headerlink" href="#dto-as-patch-update" title="Permanent link">&para;</a></h3>
<p>DTOs can be used to transfer and apply a &ldquo;patch&rdquo; to update
an existing state:</p>
<div class="highlight"><pre><span></span><code><span class="c1">// Get the Service</span>
<span class="kd">val</span> <span class="nv">stateService</span> <span class="o">=</span> <span class="n">BookStateService</span><span class="p">(</span><span class="n">serviceHub_or_RPCOps</span><span class="p">)</span>

<span class="c1">// Load state from Node Vault</span>
<span class="kd">val</span> <span class="nv">state</span><span class="p">:</span> <span class="n">BookState</span> <span class="o">=</span> <span class="n">stateService</span><span class="p">.</span><span class="na">getByLinearId</span><span class="p">(</span><span class="n">id</span><span class="p">)</span>

<span class="c1">// Apply DTO as patch</span>
<span class="c1">// ----------------------</span>
<span class="kd">val</span> <span class="nv">patchedState1</span><span class="p">:</span> <span class="n">BookState</span> <span class="o">=</span> <span class="n">dto1</span><span class="p">.</span><span class="na">toPatched</span><span class="p">(</span><span class="n">state</span><span class="p">)</span>

<span class="c1">// Apply &#39;client&#39; DTO as patch</span>
<span class="c1">// ----------------------</span>
<span class="kd">val</span> <span class="nv">patchedState2</span><span class="p">:</span> <span class="n">BookState</span> <span class="o">=</span> <span class="n">dto2</span><span class="p">.</span><span class="na">toPatched</span><span class="p">(</span><span class="n">state</span><span class="p">,</span> <span class="n">stateService</span><span class="p">)</span>
</code></pre></div>
<h3 id="state-to-dto">State to DTO<a class="headerlink" href="#state-to-dto" title="Permanent link">&para;</a></h3>
<p>To convert from state to DTO, use the DTO&rsquo;s latter&rsquo;s alternative, state-based constructor:</p>
<div class="highlight"><pre><span></span><code><span class="c1">// Get the state</span>
<span class="kd">val</span> <span class="nv">state</span><span class="p">:</span> <span class="n">BookState</span> <span class="o">=</span> <span class="n">stateService</span><span class="p">.</span><span class="na">getByLinearId</span><span class="p">(</span><span class="n">id</span><span class="p">)</span>
<span class="c1">// Convert to DTO</span>
<span class="kd">val</span> <span class="nv">dto</span> <span class="o">=</span> <span class="n">BookStateClientDto</span><span class="p">.</span><span class="na">from</span><span class="p">(</span><span class="n">state</span><span class="p">)</span>
</code></pre></div>
<h2 id="dto-generation">DTO Generation<a class="headerlink" href="#dto-generation" title="Permanent link">&para;</a></h2>
<p>This section explains the annotations and strategies involved in generating DTOs.</p>
<h3 id="annotations">Annotations<a class="headerlink" href="#annotations" title="Permanent link">&para;</a></h3>
<h4 id="local-states">Local States<a class="headerlink" href="#local-states" title="Permanent link">&para;</a></h4>
<p>To have Vaultaire generate DTOs for <code>ContractState</code>s within local (Gradle module) sources,
annotate them with <code>@VaultaireStateDto</code>:</p>
<div class="highlight"><pre><span></span><code><span class="nd">@VaultaireStateDto</span><span class="p">(</span>
    <span class="c1">// optional: properties to ignore</span>
    <span class="n">ignoreProperties</span> <span class="o">=</span> <span class="o">[</span><span class="s">&quot;foo&quot;</span><span class="o">]</span><span class="p">,</span>
    <span class="c1">// optional, default is false</span>
    <span class="n">includeParticipants</span> <span class="o">=</span> <span class="kc">false</span>
<span class="p">)</span>
<span class="kd">data</span> <span class="kd">class</span> <span class="nc">BookState</span><span class="p">(</span>
    <span class="kd">val</span> <span class="nv">publisher</span><span class="p">:</span> <span class="n">Party</span><span class="p">,</span>
    <span class="kd">val</span> <span class="nv">author</span><span class="p">:</span> <span class="n">Party</span><span class="p">,</span>
    <span class="kd">val</span> <span class="nv">price</span><span class="p">:</span> <span class="n">BigDecimal</span><span class="p">,</span>
    <span class="kd">val</span> <span class="nv">genre</span><span class="p">:</span> <span class="n">Genre</span><span class="p">,</span>
    <span class="nd">@DefaultValue</span><span class="p">(</span><span class="s">&quot;1&quot;</span><span class="p">)</span>
    <span class="kd">val</span> <span class="nv">editions</span><span class="p">:</span> <span class="kt">Int</span> <span class="o">=</span> <span class="m">1</span><span class="p">,</span>
    <span class="kd">val</span> <span class="nv">foo</span><span class="p">:</span> <span class="kt">String</span> <span class="o">=</span> <span class="s">&quot;foo1&quot;</span><span class="p">,</span>
    <span class="kd">val</span> <span class="nv">title</span><span class="p">:</span> <span class="kt">String</span> <span class="o">=</span> <span class="s">&quot;Uknown&quot;</span><span class="p">,</span>
    <span class="kd">val</span> <span class="nv">published</span><span class="p">:</span> <span class="n">Date</span> <span class="o">=</span> <span class="n">Date</span><span class="p">(),</span>
    <span class="nd">@field</span><span class="p">:</span><span class="n">JsonProperty</span><span class="p">(</span><span class="s">&quot;alias&quot;</span><span class="p">)</span>
    <span class="kd">val</span> <span class="nv">alternativeTitle</span><span class="p">:</span> <span class="kt">String?</span> <span class="o">=</span> <span class="kc">null</span><span class="p">,</span>
    <span class="kd">override</span> <span class="kd">val</span> <span class="nv">linearId</span><span class="p">:</span> <span class="n">UniqueIdentifier</span> <span class="o">=</span> <span class="n">UniqueIdentifier</span><span class="p">()</span>
<span class="p">)</span> <span class="p">:</span> <span class="n">LinearState</span><span class="p">,</span> <span class="n">QueryableState</span> <span class="p">{</span><span class="cm">/* ... */</span><span class="p">}</span>
</code></pre></div>
<h4 id="dependency-states">Dependency States<a class="headerlink" href="#dependency-states" title="Permanent link">&para;</a></h4>
<p>To generate DTOs for <code>ContractState</code>s outside the sources in context,
e.g. from a contract states module or a project dependency,
create a &ldquo;mixin&rdquo; class as a placeholder and annotate it with
<code>@VaultaireStateDtoMixin</code>.</p>
<p>This approach might be preferred or necessary even for state sources in context or under your control,
e.g. when having (the good practice of) separate cordapp modules for contracts/states and flows.</p>
<p>Mixin example:</p>
<div class="highlight"><pre><span></span><code><span class="nd">@VaultaireStateDtoMixin</span><span class="p">(</span>
    <span class="n">persistentStateType</span> <span class="o">=</span> <span class="n">PersistentBookState</span><span class="o">::</span><span class="n">class</span><span class="p">,</span>
    <span class="n">contractStateType</span> <span class="o">=</span> <span class="n">BookState</span><span class="o">::</span><span class="n">class</span><span class="p">,</span>
    <span class="c1">// optional: properties to ignore</span>
    <span class="n">ignoreProperties</span> <span class="o">=</span> <span class="o">[</span><span class="s">&quot;foo&quot;</span><span class="o">]</span>
<span class="p">)</span>
<span class="kd">class</span> <span class="nc">BookStateMixin</span> <span class="c1">// just a placeholder for our annotation</span>
</code></pre></div>
<h4 id="non-state-models">Non-State Models<a class="headerlink" href="#non-state-models" title="Permanent link">&para;</a></h4>
<p><code>@VaultaireModelDto</code> and <code>@VaultaireModelDtoMixin</code> can be used for generation of DTOs 
for regular, non-ContractState data classes.  to similarly generate REST-friendly 
DTOs and conversion utils focused op Corda-related types like accounts etc.</p>
<div class="highlight"><pre><span></span><code><span class="nd">@VaultaireModelDtoMixin</span><span class="p">(</span><span class="n">baseType</span> <span class="o">=</span> <span class="n">SomeModel</span><span class="o">::</span><span class="n">class</span><span class="p">)</span>
<span class="kd">data</span> <span class="kd">class</span> <span class="nc">SomeModelMixin</span>
</code></pre></div>
<h4 id="views">Views<a class="headerlink" href="#views" title="Permanent link">&para;</a></h4>
<p>Some times using DTOs with a subset of the original state or model&rsquo;s members is desired. 
Vaultaire allows automating generation for those DTOs as well using the <code>views</code> property 
of the annotation in context.</p>
<p>For example, to generate a <code>MagazineStateClientDto</code> as a DTO for <code>MagazineState</code> along 
with a couple of DTO Views like <code>UpdatePartiesView</code> and <code>AddIssueView</code> that include onle 
with only (<code>issues</code>, <code>published</code>) and (<code>issues</code>, <code>published</code>) respectively:</p>
<div class="highlight"><pre><span></span><code><span class="nd">@VaultaireStateUtilsMixin</span><span class="p">(</span><span class="n">name</span> <span class="o">=</span> <span class="s">&quot;magazineConditions&quot;</span><span class="p">,</span>
        <span class="n">persistentStateType</span> <span class="o">=</span> <span class="n">PersistentMagazineState</span><span class="o">::</span><span class="n">class</span><span class="p">,</span>
        <span class="n">contractStateType</span> <span class="o">=</span> <span class="n">MagazineState</span><span class="o">::</span><span class="n">class</span><span class="p">)</span>
<span class="nd">@VaultaireStateDtoMixin</span><span class="p">(</span>
        <span class="n">persistentStateType</span> <span class="o">=</span> <span class="n">PersistentMagazineState</span><span class="o">::</span><span class="n">class</span><span class="p">,</span>
        <span class="n">contractStateType</span> <span class="o">=</span> <span class="n">MagazineState</span><span class="o">::</span><span class="n">class</span><span class="p">,</span>
        <span class="n">strategies</span> <span class="o">=</span> <span class="o">[</span><span class="n">VaultaireDtoStrategyKeys</span><span class="p">.</span><span class="na">CORDAPP_LOCAL_DTO</span><span class="p">,</span> <span class="n">VaultaireDtoStrategyKeys</span><span class="p">.</span><span class="na">CORDAPP_CLIENT_DTO</span><span class="o">]</span><span class="p">,</span>
        <span class="n">views</span> <span class="o">=</span> <span class="o">[</span>
            <span class="n">VaultaireView</span><span class="p">(</span><span class="n">name</span> <span class="o">=</span> <span class="s">&quot;UpdatePartiesView&quot;</span><span class="p">,</span> <span class="n">viewFields</span> <span class="o">=</span> <span class="o">[</span>
                <span class="n">VaultaireViewField</span><span class="p">(</span><span class="n">name</span> <span class="o">=</span> <span class="s">&quot;author&quot;</span><span class="p">),</span>
                <span class="n">VaultaireViewField</span><span class="p">(</span><span class="n">name</span> <span class="o">=</span> <span class="s">&quot;publisher&quot;</span><span class="p">)</span><span class="o">]</span><span class="p">),</span>
            <span class="n">VaultaireView</span><span class="p">(</span><span class="n">name</span> <span class="o">=</span> <span class="s">&quot;AddIssueView&quot;</span><span class="p">,</span> <span class="n">includeNamedFields</span> <span class="o">=</span> <span class="o">[</span><span class="s">&quot;issues&quot;</span><span class="p">,</span> <span class="s">&quot;published&quot;</span><span class="o">]</span><span class="p">)</span><span class="o">]</span>
<span class="p">)</span>
<span class="kd">data</span> <span class="kd">class</span> <span class="nc">MagazineMixin</span><span class="p">(</span>
        <span class="nd">@DefaultValue</span><span class="p">(</span><span class="s">&quot;1&quot;</span><span class="p">)</span>
        <span class="kd">var</span> <span class="nv">issues</span><span class="p">:</span> <span class="kt">Int</span><span class="p">,</span>
        <span class="nd">@DefaultValue</span><span class="p">(</span><span class="s">&quot;Date()&quot;</span><span class="p">)</span>
        <span class="kd">val</span> <span class="nv">published</span><span class="p">:</span> <span class="n">Date</span><span class="p">,</span>
        <span class="nd">@DefaultValue</span><span class="p">(</span><span class="s">&quot;UniqueIdentifier()&quot;</span><span class="p">)</span>
        <span class="kd">val</span> <span class="nv">linearId</span><span class="p">:</span> <span class="n">UniqueIdentifier</span><span class="p">,</span>
        <span class="kd">val</span> <span class="nv">customMixinField</span><span class="p">:</span> <span class="n">Map</span><span class="o">&lt;</span><span class="kt">String</span><span class="p">,</span> <span class="kt">String</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">emptyMap</span><span class="p">()</span>
<span class="p">)</span>
</code></pre></div>
<p>The <code>views</code> property is available in <code>@VaultaireStateDto</code>, <code>@VaultaireStateDtoMixin</code>, 
<code>@VaultaireModelDto</code> and <code>@VaultaireModelDtoMixin</code>. </p>
<h4 id="utility-annotations">Utility Annotations<a class="headerlink" href="#utility-annotations" title="Permanent link">&para;</a></h4>
<p>The<code>@DefaultValue</code> can be used to provide default property initializers. 
It can be used equally on either <code>ContractState</code> or &ldquo;mixin&rdquo; properties:</p>
<div class="highlight"><pre><span></span><code><span class="nd">@VaultaireStateUtilsMixin</span><span class="p">(</span><span class="cm">/*...*/</span><span class="p">)</span>
<span class="nd">@VaultaireStateDtoMixin</span><span class="p">(</span><span class="cm">/*...*/</span><span class="p">)</span>
<span class="kd">data</span> <span class="kd">class</span> <span class="nc">MagazineMixin</span><span class="p">(</span>
        <span class="nd">@DefaultValue</span><span class="p">(</span><span class="s">&quot;1&quot;</span><span class="p">)</span>
        <span class="kd">var</span> <span class="nv">issues</span><span class="p">:</span> <span class="kt">Int</span><span class="p">,</span>
        <span class="nd">@DefaultValue</span><span class="p">(</span><span class="s">&quot;Date()&quot;</span><span class="p">)</span>
        <span class="kd">val</span> <span class="nv">published</span><span class="p">:</span> <span class="n">Date</span><span class="p">,</span>
        <span class="nd">@DefaultValue</span><span class="p">(</span><span class="s">&quot;UniqueIdentifier()&quot;</span><span class="p">)</span>
        <span class="kd">val</span> <span class="nv">linearId</span><span class="p">:</span> <span class="n">UniqueIdentifier</span>
<span class="p">)</span>
</code></pre></div>
<h4 id="sample-dto">Sample DTO<a class="headerlink" href="#sample-dto" title="Permanent link">&para;</a></h4>
<p>Sample (state) client DTO: nullable var members and utilities to convert from/to<br />
or patch an instance of the target type:</p>
<div class="highlight"><pre><span></span><code><span class="cm">/**</span>
<span class="cm"> * A [MagazineContract.MagazineState]-specific</span>
<span class="cm"> * [com.github.manosbatsis.vaultaire.dto.VaultaireStateClientDto] implementation</span>
<span class="cm"> */</span>
<span class="nd">@CordaSerializable</span>
<span class="kd">data</span> <span class="kd">class</span> <span class="nc">MagazineStateClientDto</span><span class="p">(</span>
        <span class="kd">var</span> <span class="nv">publisher</span><span class="p">:</span> <span class="n">AccountInfoStateClientDto? </span><span class="o">=</span> <span class="kc">null</span><span class="p">,</span>
        <span class="kd">var</span> <span class="nv">author</span><span class="p">:</span> <span class="n">AccountInfoStateClientDto? </span><span class="o">=</span> <span class="kc">null</span><span class="p">,</span>
        <span class="kd">var</span> <span class="nv">price</span><span class="p">:</span> <span class="n">BigDecimal? </span><span class="o">=</span> <span class="kc">null</span><span class="p">,</span>
        <span class="kd">var</span> <span class="nv">genre</span><span class="p">:</span> <span class="n">MagazineContract</span><span class="p">.</span><span class="na">MagazineGenre</span><span class="o">?</span> <span class="o">=</span> <span class="kc">null</span><span class="p">,</span>
        <span class="kd">var</span> <span class="nv">issues</span><span class="p">:</span> <span class="kt">Int?</span> <span class="o">=</span> <span class="m">1</span><span class="p">,</span>
        <span class="kd">var</span> <span class="nv">title</span><span class="p">:</span> <span class="kt">String?</span> <span class="o">=</span> <span class="kc">null</span><span class="p">,</span>
        <span class="kd">var</span> <span class="nv">published</span><span class="p">:</span> <span class="n">Date? </span><span class="o">=</span> <span class="n">Date</span><span class="p">(),</span>
        <span class="kd">var</span> <span class="nv">linearId</span><span class="p">:</span> <span class="n">UniqueIdentifier? </span><span class="o">=</span> <span class="n">UniqueIdentifier</span><span class="p">(),</span>
        <span class="kd">var</span> <span class="nv">customMixinField</span><span class="p">:</span> <span class="n">Map</span><span class="o">&lt;</span><span class="kt">String</span><span class="p">,</span> <span class="kt">String</span><span class="o">&gt;?</span> <span class="o">=</span> <span class="kc">null</span>
<span class="p">)</span> <span class="p">:</span> <span class="n">VaultaireAccountsAwareStateClientDto</span><span class="o">&lt;</span><span class="n">MagazineContract</span><span class="p">.</span><span class="na">MagazineState</span><span class="o">&gt;</span> <span class="p">{</span>
    <span class="cm">/**</span>
<span class="cm">     * Create a patched copy of the given [MagazineContract.MagazineState] instance,</span>
<span class="cm">     * updated using this DTO&#39;s non-null properties.</span>
<span class="cm">     */</span>
    <span class="nd">@Suspendable</span>
    <span class="kd">override</span> <span class="kd">fun</span> <span class="nf">toPatched</span><span class="p">(</span><span class="n">original</span><span class="p">:</span> <span class="n">MagazineContract</span><span class="p">.</span><span class="na">MagazineState</span><span class="p">,</span>
                           <span class="n">stateService</span><span class="p">:</span> <span class="n">AccountsAwareStateService</span><span class="o">&lt;</span><span class="n">MagazineContract</span><span class="p">.</span><span class="na">MagazineState</span><span class="o">&gt;</span><span class="p">):</span>
            <span class="n">MagazineContract</span><span class="p">.</span><span class="na">MagazineState</span> <span class="p">{</span>
        <span class="kd">val</span> <span class="nv">publisherResolved</span> <span class="o">=</span> <span class="n">stateService</span><span class="p">.</span><span class="na">toAccountPartyOrNull</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="na">publisher</span><span class="p">,</span>
                <span class="n">original</span><span class="p">.</span><span class="na">publisher</span><span class="p">)</span>
        <span class="kd">val</span> <span class="nv">authorResolved</span> <span class="o">=</span> <span class="n">stateService</span><span class="p">.</span><span class="na">toAccountParty</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="na">author</span><span class="p">,</span> <span class="n">original</span><span class="p">.</span><span class="na">author</span><span class="p">)</span>
        <span class="kd">val</span> <span class="nv">patched</span> <span class="o">=</span> <span class="n">original</span><span class="p">.</span><span class="na">copy</span><span class="p">(</span>
                <span class="n">publisher</span> <span class="o">=</span> <span class="n">publisherResolved</span><span class="p">,</span>
                <span class="n">author</span> <span class="o">=</span> <span class="n">authorResolved</span><span class="p">,</span>
                <span class="n">price</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="na">price</span> <span class="o">?:</span> <span class="n">original</span><span class="p">.</span><span class="na">price</span><span class="p">,</span>
                <span class="n">genre</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="na">genre</span> <span class="o">?:</span> <span class="n">original</span><span class="p">.</span><span class="na">genre</span><span class="p">,</span>
                <span class="n">issues</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="na">issues</span> <span class="o">?:</span> <span class="n">original</span><span class="p">.</span><span class="na">issues</span><span class="p">,</span>
                <span class="n">title</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="na">title</span> <span class="o">?:</span> <span class="n">original</span><span class="p">.</span><span class="na">title</span><span class="p">,</span>
                <span class="n">published</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="na">published</span> <span class="o">?:</span> <span class="n">original</span><span class="p">.</span><span class="na">published</span><span class="p">,</span>
                <span class="n">linearId</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="na">linearId</span> <span class="o">?:</span> <span class="n">original</span><span class="p">.</span><span class="na">linearId</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">patched</span>
    <span class="p">}</span>

    <span class="cm">/**</span>
<span class="cm">     * Create an instance of [MagazineContract.MagazineState], using this DTO&#39;s properties.</span>
<span class="cm">     * May throw a [DtoInsufficientStateMappingException]</span>
<span class="cm">     * if there is mot enough information to do so.</span>
<span class="cm">     */</span>
    <span class="nd">@Suspendable</span>
    <span class="kd">override</span>
    <span class="kd">fun</span> <span class="nf">toTargetType</span><span class="p">(</span><span class="n">stateService</span><span class="p">:</span> <span class="n">AccountsAwareStateService</span><span class="o">&lt;</span><span class="n">MagazineContract</span><span class="p">.</span><span class="na">MagazineState</span><span class="o">&gt;</span><span class="p">):</span>
            <span class="n">MagazineContract</span><span class="p">.</span><span class="na">MagazineState</span> <span class="p">{</span>
        <span class="kd">val</span> <span class="nv">publisherResolved</span> <span class="o">=</span> <span class="n">stateService</span><span class="p">.</span><span class="na">toAccountPartyOrNull</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="na">publisher</span><span class="p">,</span> <span class="kc">null</span><span class="p">,</span> <span class="kc">false</span><span class="p">,</span>
                <span class="s">&quot;publisher&quot;</span><span class="p">)</span>
        <span class="kd">val</span> <span class="nv">authorResolved</span> <span class="o">=</span> <span class="n">stateService</span><span class="p">.</span><span class="na">toAccountParty</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="na">author</span><span class="p">,</span> <span class="kc">null</span><span class="p">,</span> <span class="kc">false</span><span class="p">,</span> <span class="s">&quot;author&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">MagazineContract</span><span class="p">.</span><span class="na">MagazineState</span><span class="p">(</span>
                <span class="n">publisher</span> <span class="o">=</span> <span class="n">publisherResolved</span><span class="p">,</span>
                <span class="n">author</span> <span class="o">=</span> <span class="n">authorResolved</span><span class="p">,</span>
                <span class="n">price</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="na">price</span><span class="o">?:</span><span class="n">errNull</span><span class="p">(</span><span class="s">&quot;price&quot;</span><span class="p">),</span>
                <span class="n">genre</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="na">genre</span><span class="o">?:</span><span class="n">errNull</span><span class="p">(</span><span class="s">&quot;genre&quot;</span><span class="p">),</span>
                <span class="n">issues</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="na">issues</span><span class="o">?:</span><span class="n">errNull</span><span class="p">(</span><span class="s">&quot;issues&quot;</span><span class="p">),</span>
                <span class="n">title</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="na">title</span><span class="o">?:</span><span class="n">errNull</span><span class="p">(</span><span class="s">&quot;title&quot;</span><span class="p">),</span>
                <span class="n">published</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="na">published</span><span class="o">?:</span><span class="n">errNull</span><span class="p">(</span><span class="s">&quot;published&quot;</span><span class="p">),</span>
                <span class="n">linearId</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="na">linearId</span><span class="o">?:</span><span class="n">errNull</span><span class="p">(</span><span class="s">&quot;linearId&quot;</span><span class="p">)</span>
        <span class="p">)</span>
    <span class="p">}</span>

    <span class="kd">companion</span> <span class="kd">object</span> <span class="err">{</span>
        <span class="cm">/**</span>
<span class="cm">         * Create a new DTO instance using the given [MagazineContract.MagazineState] as source.</span>
<span class="cm">         */</span>
        <span class="nd">@Suspendable</span>
        <span class="kd">fun</span> <span class="nf">from</span><span class="p">(</span><span class="n">original</span><span class="p">:</span> <span class="n">MagazineContract</span><span class="p">.</span><span class="na">MagazineState</span><span class="p">,</span>
                     <span class="n">stateService</span><span class="p">:</span> <span class="n">AccountsAwareStateService</span><span class="o">&lt;</span><span class="n">MagazineContract</span><span class="p">.</span><span class="na">MagazineState</span><span class="o">&gt;</span><span class="p">):</span>
                <span class="n">MagazineStateClientDto</span> <span class="p">{</span>
            <span class="kd">val</span> <span class="nv">publisherResolved</span> <span class="o">=</span> <span class="n">stateService</span><span class="p">.</span><span class="na">toAccountInfoClientDtoOrNull</span><span class="p">(</span><span class="n">original</span><span class="p">.</span><span class="na">publisher</span><span class="p">)</span>
            <span class="kd">val</span> <span class="nv">authorResolved</span> <span class="o">=</span> <span class="n">stateService</span><span class="p">.</span><span class="na">toAccountInfoClientDto</span><span class="p">(</span><span class="n">original</span><span class="p">.</span><span class="na">author</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">MagazineStateClientDto</span><span class="p">(</span>
                    <span class="n">publisher</span> <span class="o">=</span> <span class="n">publisherResolved</span><span class="p">,</span>
                    <span class="n">author</span> <span class="o">=</span> <span class="n">authorResolved</span><span class="p">,</span>
                    <span class="n">price</span> <span class="o">=</span> <span class="n">original</span><span class="p">.</span><span class="na">price</span><span class="p">,</span>
                    <span class="n">genre</span> <span class="o">=</span> <span class="n">original</span><span class="p">.</span><span class="na">genre</span><span class="p">,</span>
                    <span class="n">issues</span> <span class="o">=</span> <span class="n">original</span><span class="p">.</span><span class="na">issues</span><span class="p">,</span>
                    <span class="n">title</span> <span class="o">=</span> <span class="n">original</span><span class="p">.</span><span class="na">title</span><span class="p">,</span>
                    <span class="n">published</span> <span class="o">=</span> <span class="n">original</span><span class="p">.</span><span class="na">published</span><span class="p">,</span>
                    <span class="n">linearId</span> <span class="o">=</span> <span class="n">original</span><span class="p">.</span><span class="na">linearId</span>
            <span class="p">)</span>

        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="strategies">Strategies<a class="headerlink" href="#strategies" title="Permanent link">&para;</a></h3>
<p>Both <code>@VaultaireStateDto</code> and <code>@VaultaireStateDtoMixin</code> support generation strategy hints.
By default the strategy used is the REST-friendly <code>VaultaireDtoStrategyKeys.CORDAPP_CLIENT_DTO</code>. 
The only additional strategy provided is <code>VaultaireDtoStrategyKeys.CORDAPP_LOCAL_DTO</code> that supports no 
type conversions. Using both, as in the following example, will generate separate DTOs for each.</p>
<div class="highlight"><pre><span></span><code><span class="nd">@VaultaireStateDto</span><span class="p">(</span>
    <span class="n">ignoreProperties</span> <span class="o">=</span> <span class="o">[</span><span class="s">&quot;foo&quot;</span><span class="o">]</span><span class="p">,</span>
    <span class="n">strategies</span> <span class="o">=</span> <span class="o">[</span><span class="n">VaultaireDtoStrategyKeys</span><span class="p">.</span><span class="na">CORDAPP_CLIENT_DTO</span><span class="p">,</span> <span class="n">VaultaireDtoStrategyKeys</span><span class="p">.</span><span class="na">CORDAPP_LOCAL_DTO</span><span class="o">]</span>
<span class="p">)</span>
<span class="kd">data</span> <span class="kd">class</span> <span class="nc">BookState</span><span class="p">(</span>
        <span class="c1">//...</span>
<span class="p">)</span> <span class="p">:</span> <span class="n">LinearState</span><span class="p">,</span> <span class="n">QueryableState</span><span class="p">{</span>
        <span class="c1">//...</span>
<span class="p">}</span>
</code></pre></div>
                
              
              
                


              
            </article>
          </div>
        </div>
        
      </main>
      
        
<footer class="md-footer">
  
    <nav class="md-footer__inner md-grid" aria-label="Footer">
      
        <a href="../state-services/" class="md-footer__link md-footer__link--prev" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              State Services
            </div>
          </div>
        </a>
      
      
        <a href="../other-utils/" class="md-footer__link md-footer__link--next" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Other Utilities
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright &copy; 2019 Manos Batsis
          </div>
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
        
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "../..", "features": [], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing"}, "search": "../../assets/javascripts/workers/search.d351de03.min.js", "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.a1609d9a.min.js"></script>
      
    
  </body>
</html>